import 'dart:convert';

import 'package:better_hm/home/dashboard/sections/kino/movie.dart';
import 'package:better_hm/shared/extensions/extensions_date_time.dart';
import 'package:logging/logging.dart';

class KinoService {
  final Logger _log = Logger("KinoService");

  Future<(DateTime?, List<Movie>)> getMovies() async {
    _log.info("Getting movies");

    // final uri = Uri(
    //   scheme: "https",
    //   host: "api.betterhm.app",
    //   path: "/movies",
    // );
    //
    // final mainApi = getIt<MainApi>();
    //
    // final response = await mainApi.get<Movies>(uri, Movies.fromJson);
    //
    // return (response.saved, response.data.movies);
    try {
      final movies = Movies.fromJson(
        jsonDecode(r"""
      {"data":[{"title":"Aladdin","date":"2023-11-23","times":["19:00"],"fsk":"FSK 6","genre":"Abenteuer","length":128,"info":"Mit seiner spektakul\u00e4ren Live Action-Verfilmung entf\u00fchrt Regisseur Guy Ritchie in die zauberhafte Welt der prachtvollen Pal\u00e4ste, geheimnisvollen Bazare und\u00a0 fliegenden Teppiche. Ein mitrei\u00dfendes Kinoerlebnis f\u00fcr die Sinne und das Herz, voller Spannung, Humor und Romantik.","content":"Aladdins Zuhause sind die Stra\u00dfen von Agrabah. Der liebensw\u00fcrdige Stra\u00dfenjunge ist erpicht darauf, sein von kleinen Diebst\u00e4hlen gezeichnetes Leben hinter sich zu lassen und seinem Glauben zu folgen, zu H\u00f6herem bestimmt zu sein. Am anderen Ende der Stadt hegt die Tochter des Sultans, Prinzessin Jasmin, ihre eigenen Tr\u00e4ume. Sie sehnt sich danach, das Leben au\u00dferhalb der Palastmauern kennenzulernen und mit ihrem Status die Menschen von Agrabah unterst\u00fctzen zu k\u00f6nnen. Als sich ihre Wege kreuzen, beginnt ein aufregendes Abenteuer...","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/aladdin-2019-DE.png","coverBlurhash":"LJDux#?b1jXT.A-:xuog0ztP^Job","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=0afa5b7a618dfa714f19"},{"title":"Die Feuerzangenbowle","date":"2023-12-14","times":["17:00","20:00"],"fsk":"FSK 12","genre":"Kom\u00f6die","length":97,"info":"Das Schwarzwei\u00dfbild, der knisternde Ton, die heitere Atmosph\u00e4re \u2013 mindestens einmal im Leben sollte jeder Studierende \"Die Feuerzangenbowle\" in einem vollen H\u00f6rsaal miterlebt haben, denn selbst nach so langer Zeit begeistert der Kultstreifen jedes Jahr aufs Neue und erweist sich immer wieder als ein unvergessliches Kinoerlebnis.","content":"\u201eWo simmer denn dran?\u201c Aja, heute gibt\u2019s die Feuerzangenbowle. Jeder Student kann sie erz\u00e4hlen \u2013 die Geschichte vom legend\u00e4ren Johannes Pfeiffer, der noch einmal die Schulbank dr\u00fccken muss: Eine Runde \u00e4lterer Herren sitzt in redseliger Stimmung bei einer Feuerzangenbowle zusammen und erinnert sich an ihre Zeit der Sch\u00fclerstreiche. Einzig der junge Schriftsteller Pfeiffer, der als Kind \u201enur\u201c von einem Privatlehrer erzogen wurde, kann hier nicht mithalten. So beschlie\u00dft die heitere Runde: Pfeiffer muss nochmal zur Schule. Dort erlebt er als Besucher der Oberprima, was so alles zu einer richtigen Sch\u00fclerkarriere geh\u00f6rt: jede Menge Klassenbucheintr\u00e4ge, einsame Zeiten im alten Karzer, eine schwatzhafte Zimmerwirtin, gnadenlos bimmelnde Wecker zu uns\u00e4glichen Uhrzeiten und nat\u00fcrlich eine Sch\u00fclerliebe namens Eva.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/die-feuerzangenbowle-DE.png","coverBlurhash":"LdO3RAxuv~-o.8ROxnRj_Mt6NgbI","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=21d901cd1417e3ef6ef3"},{"title":"High School Musical","date":"2023-11-02","times":["19:00"],"fsk":"FSK 0","genre":"Kom\u00f6die","length":98,"info":"We are all in this together! Egal ob als Gute-Laune-Film, als Mitsing- oder vor allem auch als Mitmach-Kino (nat\u00fcrlich inklusive unserer exklusiven Anleitung), die musikalischen Abenteuer rund um Troy, Sharpay, Gabriella und den Rest der Clique sorgen f\u00fcr eine selten gesehene Begeisterung!","content":"Durch Zufall stellen Basketball-Captain Troy und Mathegenie Gabriella bei einem Karaoke-Duett fest, dass sie musikalisch \u00fcberaus talentiert sind. Die Musik verbindet die beiden Highschool-Sch\u00fcler und sie verlieben sich sofort ineinander. Doch nicht jeder ist so begeistert von Troys und Gabriellas Passion, denn als sie sich f\u00fcr die Hauptrolle des Schulmusicals bewerben, werden ihnen allerhand Steine in den Weg gerollt. Troy muss seine Mannschaft auf ein Spiel vorbereiten und Gabriella darf ihren Matheclub vor dem Wettbewerb nicht h\u00e4ngen lassen.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/High_School_Musical.png","coverBlurhash":"L5GjZ]s802~W1oKOvV9Z*K=^ENIU","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=72c30c44f7b9d55e2ad9"},{"title":"Sch\u00f6ne Bescherung","date":"2023-12-21","times":["19:00"],"fsk":"FSK 6","genre":"Kom\u00f6die","length":97,"info":"'Die schrillen Vier' sind wieder da: Jeremiah S. Chechiks Sch\u00f6ne Bescherung zeigt Chevy Chase, Beverly D'Angelo, Randy Quaid, Juliette Lewis und andere viel zu schnell in Vergessenheit geratene Stars in einer respektlosen Kom\u00f6die, die s\u00e4mtliche Weihnachtsrituale aufs Korn nimmt.","content":"Clark Griswold (Chevy Chase), Oberhaupt der 'Schrillen Vier', hat sich geschworen, dass er und seine Lieben dieses Jahr zu Hause bleiben werden, um in Ruhe Weihnachten zu feiern. In Ruhe?? Das Dach der Griswolds ist mit 25.000 Lichtern best\u00fcckt und \u00e4hnelt einer Flugzeuglandebahn. Die Suche nach dem passenden Christbaum entwickelt sich zum Horrortrip. Dazu fallen noch s\u00e4mtliche Verwandte ein, der Festtags-Truthahn explodiert auf dem Esszimmertisch und ein SWAT-Team belagert das Haus.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/schoene-bescherung-DE.png","coverBlurhash":"L9IEeK0000+r1B-qL}~C00=|?vBp","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=7875e80e9521fdb9d479"},{"title":"Die Eisk\u00f6nigin 2","date":"2023-11-30","times":["21:00"],"fsk":"FSK 0","genre":"Animation","length":103,"info":"Die Sch\u00f6pfer des erfolgreichsten Animationsfilms aller Zeiten schlossen sich auch f\u00fcr den zweiten Teil wieder zusammen und erneut gelang ihnen dabei ein warmherziges, witziges und vor allem spannendes Meisterwerk, das vor allem auch musikalisch gro\u00dfes Kino-Blockbuster-Feeling verspricht.","content":"Die Schwestern Anna und Elsa genie\u00dfen ihr ruhiges Leben in Arendelle, bis eines Tages eine geheimnisvolle Stimme Elsa in den Wald ruft, die ihr Antworten auf all ihre Fragen verspricht: Warum ist sie so wie sie ist? Warum hat gerade sie magische Kr\u00e4fte? Zusammen mit Anna, Olaf, Sven und Kristoff bricht sie auf, das R\u00e4tsel zu ergr\u00fcnden. Dabei trifft die Crew nicht nur neue Weggef\u00e4hrten, auf ihrer abenteuerlichen Reise m\u00fcssen Elsa und Anna einmal mehr zusammenhalten und f\u00fcreinander mit Mut, Vertrauen und Schwesternliebe einstehen.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/die-eiskoenigin-2-DE.png","coverBlurhash":"LoF=E|WEi_aw~XWBWCa{-;WAR-W?","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=b47029b21cc3d217582c"},{"title":"Der gro\u00dfe Gatsby","date":"2023-11-16","times":["19:00"],"fsk":"FSK 12","genre":"Drama","length":143,"info":"Fast 90 Jahre nach Erscheinen von Francis Scott Fitzgeralds amerikanischem Klassiker Der gro\u00dfe Gatsby bringt Regisseur Baz Luhrmann Leonardo DiCaprio als Jay Gatsby auf die Leinwand. Mit rasanten Kamerafahrten und farbgewaltigen Bildern f\u00e4ngt Luhrmann die Atmosph\u00e4re des Romans ein.","content":"Jay Gatsby ist mit seinem prachtvollen Anwesen und scheinbar unermesslichen Reichtum stadtbekannt und doch kennt kaum jemand sein Gesicht. Warum l\u00e4dt der mysteri\u00f6se Gastgeber fast t\u00e4glich die ganze Stadt ein und bleibt selbst zur\u00fcckgezogen? Sein neuer Nachbar Nick Carraway verfolgt das Geschehen in Gatsbys Haus und bekommt Einblicke in sein Gef\u00fchlsleben, in dem Nicks Cousine Daisy von der anderen Seite der Bucht eine besondere Rolle spielt.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/der-grosse-gatsby-DE.png","coverBlurhash":"L78NLT%10fEM~AxZI;NHn3s:XTNa","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=b4b6acb9d515a232858c"},{"title":"Zombieland","date":"2023-10-26","times":["19:00"],"fsk":"FSK 16","genre":"Kom\u00f6die","length":88,"info":"Legend\u00e4re, kultige und trocken-witzige Horrorbuddykom\u00f6die, in der Woody Harrelson mit einem Nerd im Schlepptau als Natural Born Zombie-Killer aufr\u00e4umt. Vielleicht die beste Zombiekom\u00f6die aller Zeiten, gespickt mit einer Riege weiterer Topstars: Jesse Eisenberg, Emma Stone, Abigail Breslin.","content":"College-Streber und Nerd Columbus hat so seine eigenen Methoden, um die Zombies auszuschalten, die seit einer Virus-Katastrophe die Welt bev\u00f6lkern. Eines Tages trifft er auf den unerschrockenen, supercoolen und bis an die Z\u00e4hne bewaffneten Cowboy Tallahassee, der sich als noch besserer Terminator von Zombies herausstellt. Sie schlie\u00dfen sich zusammen, um gemeinsam der Plage Herr zu werden und weitere \u00dcberlebende zu finden. Unterwegs werden die beiden jedoch von zwei Schwestern \u00fcbers Ohr gehauen, die ihnen Auto und Ausr\u00fcstung klauen...","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/zombieland-DE.png","coverBlurhash":"LFE{U+xu.9.8~XIAIVIV0Ls,9ZM{","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=bf48f4a95b4b42057db0"},{"title":"Baby Driver","date":"2024-01-11","times":["19:00"],"fsk":"FSK 16","genre":"Action","length":113,"info":"Eine musikgeladene Action-Kom\u00f6die, die Ansel Elgort, bekannt aus \"Das Schicksal ist ein mieser Verr\u00e4ter\", eine Golden-Globe-Nominierung als Bester Hauptdarsteller einbrachte. \"Baby Driver\" ist spannend, kreativ und intelligent inszeniert bzw. vor allem choreografiert. So macht Kino Spa\u00df!","content":"\"Baby Driver\" handelt von einem talentierten jungen Fluchtwagenfahrer, der sich ganz auf den Beat seiner pers\u00f6nlichen Playlist verl\u00e4sst, um der Beste in seinem Job zu werden. Als er das M\u00e4dchen seiner Tr\u00e4ume trifft, sieht Baby eine Chance, seine kriminelle Karriere an den Nagel zu h\u00e4ngen und einen sauberen Ausstieg zu schaffen. Aber nachdem er gezwungen wird, f\u00fcr einen Gangsterboss zu arbeiten und ein zum Scheitern verurteilter Raub\u00fcberfall sein Leben, seine Liebe und seine Freiheit gef\u00e4hrdet, muss er f\u00fcr seine Handlungen geradestehen.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/Baby Driver_DE.png","coverBlurhash":"LIIDBkEe}[n6@$EL,IxGz@%LMzxG","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=c4ce3574c9444702e078"},{"title":"Die Eisk\u00f6nigin - Double Feature","date":"2023-11-30","times":["19:00"],"fsk":"FSK 0","genre":"Animation","length":102,"info":"Mit wundersch\u00f6ner und liebevoller Animation, beeindruckenden Charakteren sowie unvergesslicher Musik, schafft es Die Eisk\u00f6nigin eine humorvolle und spannende Geschichte zu erz\u00e4hlen, die zwei Oscars gewann und rund um den Globus unz\u00e4hlige Herzen zum Schmelzen brachte.","content":"Die furchtlose K\u00f6nigstochter Anna macht sich zusammen mit dem schroffen Naturburschen Kristoff und seinem treuen Rentier Sven auf eine abenteuerliche Reise, um ihre Schwester Elsa zu finden, deren eisige Kr\u00e4fte das K\u00f6nigreich Arendelle in ewigem Winter gefangen halten. In einem spannenden Rennen um die Rettung des K\u00f6nigreichs ringen Anna und Kristoff nicht nur mit den Naturelementen, sie begegnen auch mystischen Trollen und dem urkomischen Scheemann Olaf, der zu einem unverzichtbaren Begleiter auf ihrer Reise wird.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/die-eiskoenigin-DE.png","coverBlurhash":"L5Hgotb_5S.902ofE1RO}7r=rBnN","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=c970272201bd8638f3bb"},{"title":"Barbie","date":"2023-11-09","times":["19:00"],"fsk":"FSK 6","genre":"Kom\u00f6die","length":114,"info":"Greta Gerwig bricht mit diesem h\u00f6chst unterhaltsamen und dennoch \u00fcberraschend tiefgr\u00fcndigen Film etliche Rekorde. Nie war eine Frau in Hollywood erfolgreicher. Dabei zeigt sie eindrucksvoll, dass es im Gegeneinander der Geschlechter nur Verlierer gibt, ganz egal, wer die Oberhand gewinnt.","content":"Im Barbie-Land zu leben bedeutet, ein perfektes Dasein an einem perfekten Ort zu f\u00fchren. Au\u00dfer nat\u00fcrlich, man steckt gerade in einer existenziellen Krise. Oder man ist ein Ken. Doch woher kommen pl\u00f6tzlich die eigenartigen Gedanken der \"stereotypen Barbie\"? Und wie wird man sie wieder los? Die \"seltsame Barbie\" wei\u00df, passende Antworten zu diesen Fragen kann man nur in der realen Welt finden. Also machen sich Barbie und Ken auf den Weg in die Realit\u00e4t der Menschen. Doch was sie dort finden, hat das Potenzial, Barbie-Land f\u00fcr immer zu ver\u00e4ndern...","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/Barbie-DE.png","coverBlurhash":"LCOCL3Y53G,]1+Ne1PO=3Gvhi]r;","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=d341b073ad6ebf66adc0"},{"title":"Django Unchained","date":"2023-10-12","times":["19:00"],"fsk":"FSK 16","genre":"Western","length":165,"info":"Ein spektakul\u00e4rer und mit zwei Oscars ausgezeichneter Western von Kult-Regisseur Quentin Tarantino, der mit unvergesslichen Performances von Jamie Foxx, Leonardo DiCaprio und Christoph Waltz, jeder Menge Action, Humor, einem brillanten Soundtrack und atemberaubenden Kulissen gl\u00e4nzen kann.","content":"Der Sklave Django schlie\u00dft sich mit dem Kopfgeldj\u00e4ger Dr. King Schulz zusammen, um im Gegenzug f\u00fcr seine Freiheit, die gesuchtesten Verbrecher der S\u00fcdstaaten zur Strecke zu bringen. Er wird zum erfolgreichen J\u00e4ger, doch sein gr\u00f6\u00dftes Ziel ist es, seine Frau zu finden und zu befreien, die er vor langer Zeit durch Sklavenhandel verloren hat. Als ihre Suche die beiden schlie\u00dflich zu Calvin Candie, dem ber\u00fcchtigten und brutalen Besitzer der Candyland-Plantage f\u00fchrt, wecken sie das Misstrauen von Stephen, Candies treuem Haussklaven...","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/django-unchained-DE.png","coverBlurhash":"LcGk,#j[%#t7_Nof%2xu_3kCofxu","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=e6b412aa8b2c62c92f38"},{"title":"Dungeons & Dragons: Ehre unter Dieben","date":"2023-12-07","times":["19:00"],"fsk":"FSK 12","genre":"Abenteuer","length":134,"info":"Die vielf\u00e4ltige, fantastische Welt und der spielerische Geist des legend\u00e4ren Rollenspiels kommen in einem umwerfend komischen und actiongeladenen Abenteuer auf die gro\u00dfe Leinwand. Angeleitet von John Francis Daley und Jonathan Goldstein bringt ein hochkar\u00e4tiger Cast echte Filmmagie hervor.","content":"Langfinger Edgin bricht in ein episches Abenteuer auf. Unterst\u00fctzt wird er von einem bunten Team aus Au\u00dfenseitern mit ungew\u00f6hnlichen Talenten: Barbarin Holga, Zauberer Simon, Druidin Doric und Paladin Xenk. Als Gegenspieler hat sich der gerissene Forge in Position gebracht. Das gemeinsame Ziel: eine verlorene Reliquie wiederzubeschaffen. Doch die Dinge gehen gewaltig schief, als sich die Grenzg\u00e4nger mit den falschen Leuten anlegen. Aber wo keine Ehre, da auch keine Regeln. Und was auch immer sie erwartet, sie werden bereit sein. Vielleicht.","room":"H\u00f6rsaal E0.103","coverUrl":"https:\/\/api.betterhm.app\/storage\/kino\/covers\/Dungeons-and-Dragons-DE.png","coverBlurhash":"LAB|1wV?01of*InOQ-tQ01aet6t7","unifilmUrl":"https:\/\/www.unifilm.de\/termin.php?id=fbf6eeeb875a7bc341ed"}]}
      """),
      );

      print(movies);
      return (now(), movies.movies);
    } catch (e, x) {
      print(e);
      print(x);
    }

    return Future.delayed(
      const Duration(milliseconds: 10),
      () => (now(), <Movie>[]),
    );
  }
}
